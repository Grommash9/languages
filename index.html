<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vietnamese Vocabulary Exercise - Lessons & Homework</title>
        <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fb;
        }
        .translation {
            /* Initially hidden */
            display: none; 
            color: #3b82f6;
            font-style: italic;
            margin-left: 0.5rem;
        }
        .card {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        /* Mobile-friendly adjustment for number grid */
        #numbers-list {
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); /* Better fluid columns */
        }
    </style>
</head>
<body class="p-4 sm:p-8">
    <div class="max-w-4xl mx-auto">
        <header class="text-center mb-10">
            <h1 class="text-4xl font-extrabold text-blue-800 mb-2">Vietnamese Vocab Builder</h1>
            <p class="text-xl text-gray-600">Click **Show Translation** to reveal the meaning!</p>
        </header>

                <div class="card bg-white p-6 rounded-xl mb-10">
            <h2 class="text-2xl font-bold text-gray-800 border-b pb-3 mb-4">Vocabulary for Homework & Repeating</h2>
            <div id="vocabulary-list" class="space-y-4">
                            </div>
        </div>

                <div class="card bg-white p-6 rounded-xl mb-10">
            <h2 class="text-2xl font-bold text-gray-800 border-b pb-3 mb-4">High Numbers & Currency (Số lớn & Tiền tệ)</h2>
            <div id="numbers-list" class="grid gap-4">
                            </div>
        </div>

                <div class="card bg-white p-6 rounded-xl">
            <h2 class="text-2xl font-bold text-gray-800 border-b pb-3 mb-4">Lesson Dialogues (Hội thoại bài học)</h2>
            
            <h3 class="text-xl font-semibold text-gray-700 mb-3 mt-5">Lesson 1: Transport & Greetings (Đi lại & Chào hỏi)</h3>
            <div id="conversation-lesson-1-travel" class="space-y-3 mb-6"></div>

            <h3 class="text-xl font-semibold text-gray-700 mb-3 mt-5">Lesson 2: Food Ordering & Payment (Gọi món & Tính tiền)</h3>
            <div id="conversation-lesson-2-food" class="space-y-3 mb-6"></div>

            <h3 class="text-xl font-semibold text-gray-700 mb-3 mt-5">Lesson 3: Utility & Direction (Tiện ích & Hướng đi)</h3>
            <div id="conversation-lesson-3-utility" class="space-y-3"></div>
        </div>

    </div>

    <script>
        // --- Data Extracted and Organized from Lessons ---

        // NEW: Core Vocabulary organized by Lesson/Topic (Merged and sorted later)
        const lesson_1_travel_vocab = [
            ["Xin chào", "Hello"],
            ["Đúng rồi", "That's right"],
            ["Cảm ơn", "Thank you / Thanks"],
            ["cảm ơn rất nhiều", "Thank you very much"],
            ["Không có gì", "You're welcome"],
            ["chợ Bến Thành", "Bến Thành market"],
            ["Dinh Độc Lập", "Reunification Palace"],
            ["Cho tôi đi đến địa chỉ này", "Please take me to this address"],
            ["Cho tôi đi đến...", "Please take me to..."],
            ["Anh đặt xe đến... đúng không?", "Did you book a ride to... right?"],
            ["đi", "to go"],
            ["Tài xế", "Driver (Contextual)"],
            ["Xin mời!", "Please come in!"],
        ];

        const lesson_2_food_vocab = [
            ["ăn", "to eat"],
            ["uống", "to drink"],
            ["Anh muốn ăn gì ạ?", "What would you want to eat?"],
            ["Anh chị muốn uống gì ?", "What do you want to drink?"],
            ["Cho tôi + number + name of dish/drink", "Number + name of dish/ drink, please."],
            ["Cho tôi + number + name of dish/ drink + không something.", "Number + name of dish/ drink without something, please."],
            ["Bánh mì", "Vietnamese sandwich"],
            ["Bánh xèo", "Savory pancake"],
            ["Bún bò", "Spicy beef noodle soup (Bún bò Huế)"],
            ["Cơm tấm", "Broken rice"],
            ["Phở", "Noodle soup (General)"],
            ["Hủ tiếu", "Clear noodle soup"],
            ["Bia", "Beer"],
            ["Nước suối", "Bottled water"],
            ["trà đá", "Iced tea"],
            ["Cà phê", "Coffee"],
            ["cà phê sữa đá", "Iced milk coffee"],
            ["cà phê trứng", "Egg coffee"],
            ["trái dừa", "Coconut"],
            ["nước mía", "Sugarcane juice"],
            ["hành", "onion / scallions"],
        ];

        const lesson_3_utility_vocab = [
            ["Làm ơn tính tiền", "Can I have the bill, please?"],
            ["Bao nhiêu tiền?", "How much is it?"],
            ["Có... không?", "Is/Are there something?"],
            ["Có", "Yes"],
            ["Không", "No"],
            ["Xin lỗi", "Excuse me / Sorry"],
            ["toilet", "Toilet / Restroom"],
            ["menu", "Menu"],
            ["Wi Fi", "Wi Fi"],
            ["chờ chút", "Wait a moment"],
            ["Hướng này", "This way"],
            ["Tôi tên là...", "I am..."],
            ["Bạn tên là gì?", "What is your name?"],
            ["Bạn là người nước nào?", "What is your nationality?"],
            ["Tôi là người Anh", "I am English"],
            ["Dạ", "Yes / Sure (polite particle)"],
            
        ];
        
        // Combine all vocabulary for the main list and sort
        let combinedVocab = [...lesson_1_travel_vocab, ...lesson_2_food_vocab, ...lesson_3_utility_vocab, 
                             ["Áo dài", "Traditional Vietnamese dress"], 
                             ["bà", "grandma"],
                             ["em", "younger sibling / younger person"],
                             ["Hoa sen", "Lotus flower"],
                             ["nấm", "mushroom"],
                             // Remove duplicates and keep only unique VN words
                            ];
        
        let uniqueVocabMap = new Map();
        combinedVocab.forEach(([vn, en]) => {
            uniqueVocabMap.set(vn, en);
        });
        
        let vocabularyData = Array.from(uniqueVocabMap).sort((a, b) => a[0].localeCompare(b[0], 'vi', { sensitivity: 'base' }));


        const numbersData = [
            // NEW High Numbers & Currency (requested additions first)
            [" một trăm hai mươi ba nghìn", "123.000 One hundred twenty-three thousand"],
            [" năm trăm hai mươi ba nghìn", "523.000 Five hundred twenty-three thousand"],
            ["tám trăm hai mươi tư nghìn", "824.000  Eight hundred twenty-four thousand"],
            [" bốn trăm chín mươi mốt nghìn", "491.000 Four hundred ninety-one thousand"],
            [" chín trăm năm mươi tư nghìn", "954.000 Nine hundred fifty-four thousand"],
            [" bốn trăm mười chín nghìn", "419.000 Four hundred nineteen thousand"],
            [" bốn trăm linh một nghìn", "401.000 Four hundred one thousand"],
            [" bốn trăm nghìn", "400.000 Four hundred thousand"],
            [" sáu trăm mười bốn nghìn", "614.000 Six hundred fourteen thousand"],
            
            // Existing High Numbers & Currency (used as reference)
            [" một nghìn", "1.000 One thousand"],
            ["mười nghìn", "10.000  Ten thousand"],
            [" một trăm nghìn", "100.000 One hundred thousand"],
            [" một trăm năm mươi nghìn", "150.000 One hundred fifty thousand"],
            [" một triệu", "1.000.000 One million"],
            ["năm triệu", "5.000.000  Five million"],
            [" một triệu hai trăm nghìn", "1.200.000 One million two hundred thousand"],
            // Core numbers
            ["một", "One"],
            ["mười", "Ten"],
            ["một trăm", "One hundred"],
        ];

        // --- NEW CONVERSATION DATA ---

        const conversationLesson1_Taxi = [
            // Dialogue from PDF 1 (Transport and Greetings)
            { speaker: "Bạn", vn: "**Xin chào!**", en: "Hello!"},
            { speaker: "Tài xế", vn: "**Xin chào!** Anh đặt xe đến **chợ Bến Thành** **đúng không**?", en: "Hello! Did you book a ride to **Ben Thanh Market** **right**?" },
            { speaker: "Bạn", vn: "**Đúng rồi! Cảm ơn!**", en: "**That's right! Thank you!**" },
            { speaker: "Tài xế", vn: "**Không có gì!** Xin mời!", en: "**You're welcome!** Please come in!" },
        ];

        const conversationLesson2_Food = [
            // Dialogue from PDF 2 (Food Ordering and Payment)
            { speaker: "Người bán", vn: "**Xin chào.** Anh muốn **ăn** gì ạ?", en: "Hello. What would you want to **eat**?"},
            { speaker: "Bạn", vn: "**Cho tôi 2 phở.**", en: "I'd like two bowls of **pho**." },
            { speaker: "Người bán", vn: "Anh chị muốn **uống** gì ?", en: "What do you want to **drink**?" },
            { speaker: "Bạn", vn: "Cho tôi 1 **trà đá** và 1 **nước suối**.", en: "1 **iced tea** and 1 **bottled water**, please." },
            { speaker: "Người bán", vn: "**Dạ. Anh chị đợi chút.**", en: "**Sure. Please wait a moment.**" },
            { speaker: "Bạn", vn: "Tổng cộng **586.000** VND. **Làm ơn tính tiền**.", en: "Total **586.000** VND. **Can I have the bill, please**." },
            { speaker: "Người bán", vn: "**Cảm ơn!**", en: "**Thanks!**" },
        ];

        const conversationLesson3_Utility = [
            // Dialogue from PDF 2 (Asking for a toilet/menu/direction)
            { speaker: "Bạn", vn: "**Xin lỗi**. **Có toilet không?**", en: "**Excuse me**. **Is there a toilet**?"},
            { speaker: "Người bán", vn: "**Có**. **Hướng này**.", en: "**Yes**. **This way**." },
            { speaker: "Bạn", vn: "**Cảm ơn**.", en: "**Thank you**."},
            { speaker: "Người bán", vn: "**Không có gì**.", en: "**You're welcome**." },
        ];


        // --- Helper Function to Render Items (Unchanged - keeps your hiding logic) ---

        function createItemElement(vnWord, enTranslation, index, isConversation = false, speaker = null) {
            const container = document.createElement('div');
            container.className = isConversation ? 'flex flex-col sm:flex-row sm:items-center p-3 rounded-lg border border-gray-100' : 'flex flex-wrap items-center justify-between p-2 hover:bg-blue-50 rounded-lg transition';

            const vnTextElement = document.createElement('span');
            // Adjusting max-width for better mobile wrap
            vnTextElement.className = isConversation ? 'text-lg font-medium pr-4 max-w-full sm:max-w-[60%]' : 'text-lg font-semibold text-gray-700';
            
            let displayVn = vnWord;
            if (speaker) {
                // For conversation, show speaker
                displayVn = `<span class="font-bold text-blue-600">${speaker}:</span> ${vnWord}`;
            }

            // Using innerHTML here for conversation speaker formatting only, content is controlled.
            vnTextElement.innerHTML = displayVn; 

            const translationElement = document.createElement('span');
            translationElement.className = 'translation text-base text-gray-500';
            translationElement.textContent = enTranslation;
            translationElement.id = `translation-${index}`;

            const button = document.createElement('button');
            button.className = 'show-btn px-3 py-1 bg-blue-500 text-white text-sm font-medium rounded-full hover:bg-blue-600 transition duration-150 ease-in-out whitespace-nowrap';
            button.textContent = 'Show Translation';
            
            button.onclick = function() {
                // Get the translation element by ID
                const target = document.getElementById(`translation-${index}`);
                if (target.style.display === 'none' || target.style.display === '') {
                    target.style.display = 'inline';
                    this.textContent = 'Hide Translation';
                } else {
                    target.style.display = 'none';
                    this.textContent = 'Show Translation';
                }
            };

            if (isConversation) {
                container.classList.add(speaker === 'Bạn' ? 'bg-indigo-50' : 'bg-gray-100');
                
                // Text wrapper containing VN text and hidden EN text
                const textWrapper = document.createElement('div');
                textWrapper.className = 'flex-1 flex flex-wrap items-center mb-2 sm:mb-0';
                textWrapper.appendChild(vnTextElement);
                textWrapper.appendChild(translationElement);

                // Control group for the button, aligning to the right on desktop
                const buttonContainer = document.createElement('div');
                buttonContainer.className = 'w-full sm:w-auto sm:ml-4';
                buttonContainer.appendChild(button);

                container.appendChild(textWrapper);
                container.appendChild(buttonContainer);
                
            } else {
                container.appendChild(vnTextElement);

                const controlGroup = document.createElement('div');
                controlGroup.className = 'flex items-center space-x-3 mt-2 sm:mt-0';
                controlGroup.appendChild(button);
                controlGroup.appendChild(translationElement);
                
                container.appendChild(controlGroup);
            }

            return container;
        }


        // --- Rendering Logic ---

        function renderData() {
            const vocabList = document.getElementById('vocabulary-list');
            const numbersList = document.getElementById('numbers-list');
            
            // Conversation containers (Updated IDs)
            const travelList = document.getElementById('conversation-lesson-1-travel');
            const foodList = document.getElementById('conversation-lesson-2-food');
            const utilityList = document.getElementById('conversation-lesson-3-utility');
            
            // Clear existing lists before rendering new data
            vocabList.innerHTML = '';
            numbersList.innerHTML = '';
            travelList.innerHTML = '';
            foodList.innerHTML = '';
            utilityList.innerHTML = '';


            // 1. Render Vocabulary
            vocabularyData.forEach(([vn, en], index) => {
                vocabList.appendChild(createItemElement(vn, en, `vocab-${index}`));
            });

            // 2. Render Numbers
            numbersData.forEach(([vn, en], index) => {
                const numberItem = document.createElement('div');
                numberItem.className = 'flex flex-col space-y-1 p-2 rounded-lg hover:bg-yellow-50 border border-yellow-100';
                
                const vnSpan = document.createElement('span');
                vnSpan.className = 'text-base font-bold text-yellow-700';
                vnSpan.textContent = vn;
                numberItem.appendChild(vnSpan);

                const enSpan = document.createElement('span');
                enSpan.className = 'translation text-sm text-gray-600';
                enSpan.textContent = en;
                enSpan.id = `number-trans-${index}`;
                numberItem.appendChild(enSpan);

                const button = document.createElement('button');
                button.className = 'show-btn mt-1 w-full text-center px-2 py-1 bg-yellow-500 text-white text-xs font-medium rounded-full hover:bg-yellow-600 transition duration-150 ease-in-out';
                button.textContent = 'Show Translation';
                
                button.onclick = function() {
                    const target = document.getElementById(`number-trans-${index}`);
                    if (target.style.display === 'none' || target.style.display === '') {
                        target.style.display = 'inline';
                        this.textContent = 'Hide Translation';
                    } else {
                        target.style.display = 'none';
                        this.textContent = 'Show Translation';
                    }
                };

                numberItem.appendChild(button);
                numbersList.appendChild(numberItem);
            });

            // 3. Render Conversations in separate blocks
            conversationLesson1_Taxi.forEach((line, index) => {
                travelList.appendChild(createItemElement(line.vn, line.en, `conv-L1-${index}`, true, line.speaker));
            });
            conversationLesson2_Food.forEach((line, index) => {
                foodList.appendChild(createItemElement(line.vn, line.en, `conv-L2-${index}`, true, line.speaker));
            });
            conversationLesson3_Utility.forEach((line, index) => {
                utilityList.appendChild(createItemElement(line.vn, line.en, `conv-L3-${index}`, true, line.speaker));
            });
        }

        // Run the rendering when the window loads
        window.onload = renderData;

    </script>
</body>
</html>
