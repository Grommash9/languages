<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vietnamese Vocabulary Exercise</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fb;
        }
        .translation {
            /* Initially hidden */
            display: none; 
            color: #3b82f6;
            font-style: italic;
            margin-left: 0.5rem;
        }
        .card {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        /* Mobile-friendly adjustment for number grid */
        #numbers-list {
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); /* Better fluid columns */
        }
    </style>
</head>
<body class="p-4 sm:p-8">
    <div class="max-w-4xl mx-auto">
        <header class="text-center mb-10">
            <h1 class="text-4xl font-extrabold text-blue-800 mb-2">Vietnamese Vocab Builder</h1>
            <p class="text-xl text-gray-600">Click **Show Translation** to reveal the meaning!</p>
        </header>

        <!-- Vocabulary & Phrases Section -->
        <div class="card bg-white p-6 rounded-xl mb-10">
            <h2 class="text-2xl font-bold text-gray-800 border-b pb-3 mb-4">Core Vocabulary & Phrases</h2>
            <div id="vocabulary-list" class="space-y-4">
                <!-- Vocabulary items will be inserted here by JavaScript -->
            </div>
        </div>

        <!-- Numbers Section -->
        <div class="card bg-white p-6 rounded-xl mb-10">
            <h2 class="text-2xl font-bold text-gray-800 border-b pb-3 mb-4">High Numbers & Currency (Số lớn & Tiền tệ)</h2>
            <div id="numbers-list" class="grid gap-4">
                <!-- Number items will be inserted here by JavaScript -->
            </div>
        </div>

        <!-- Conversation Example Section (Now separated into blocks) -->
        <div class="card bg-white p-6 rounded-xl">
            <h2 class="text-2xl font-bold text-gray-800 border-b pb-3 mb-4">Conversation Examples (Ví dụ hội thoại)</h2>
            
            <h3 class="text-xl font-semibold text-gray-700 mb-3 mt-5">1. Travel & Price Confirmation (Tài xế)</h3>
            <div id="conversation-travel-list" class="space-y-3 mb-6"></div>

            <h3 class="text-xl font-semibold text-gray-700 mb-3 mt-5">2. Ordering Food & Drink (Bánh xèo, Bún bò)</h3>
            <div id="conversation-food-1-list" class="space-y-3 mb-6"></div>

            <h3 class="text-xl font-semibold text-gray-700 mb-3 mt-5">3. Ordering Meal & Drink (Cơm tấm)</h3>
            <div id="conversation-food-2-list" class="space-y-3"></div>
        </div>

    </div>

    <script>
        // --- Data Extracted from Lessons ---

        let vocabularyData = [
            // General Words (alphabetically sorted below)
            ["ăn", "to eat"],
            ["Áo dài", "Traditional Vietnamese dress"],
            ["Bánh mì", "Vietnamese sandwich"],
            ["Bánh xèo", "Savory pancake"],
            ["Bao nhiêu tiền?", "How much is it?"],
            ["Bia", "Beer"],
            ["Bún bò", "Spicy beef noodle soup (Bún bò Huế)"],
            ["bà", "grandma"],
            ["cà phê sữa đá", "Iced milk coffee"],
            ["Cà phê", "Coffee"],
            ["cảm ơn rất nhiều", "Thank you very much"],
            ["Cảm ơn", "Thank you"],
            ["chờ chút", "Wait a moment"],
            ["chợ Bến Thành", "Bến Thành market"],
            ["Cho tôi đi đến địa chỉ này", "Please take me to this address"],
            ["Cho tôi đi đến...", "Please take me to..."],
            ["cho tÔi một bát phở KHÔNG HÀNH", "Give me a bowl of pho without onion/scallions"],
            ["Cơm tấm", "Broken rice"],
            ["Dinh Độc Lập", "Reunification Palace"],
            ["đi", "to go"],
            ["Đúng rồi", "That's right"],
            ["em", "younger sibling / younger person"],
            ["Hoa sen", "Lotus flower"],
            ["Không có gì", "You're welcome"],
            ["Làm ơn tính tiền", "Can I have the bill, please?"],
            ["nấm", "mushroom"],
            ["Nước suối", "Bottled water"],
            ["nước mía", "Sugarcane juice"],
            ["Phở", "Noodle soup (General)"],
            ["trà đá", "Iced tea"],
            ["Xin chào", "Hello"],
        ];

        // Sort the vocabulary data alphabetically by the Vietnamese word (index 0)
        vocabularyData.sort((a, b) => a[0].localeCompare(b[0], 'vi', { sensitivity: 'base' }));


        const numbersData = [
            // NEW High Numbers & Currency (requested additions first)
            [" một trăm hai mươi ba nghìn", "123.000 One hundred twenty-three thousand"],
            [" năm trăm hai mươi ba nghìn", "523.000 Five hundred twenty-three thousand"],
            ["tám trăm hai mươi tư nghìn", "824.000  Eight hundred twenty-four thousand"],
            [" bốn trăm chín mươi mốt nghìn", "491.000 Four hundred ninety-one thousand"],
            [" chín trăm năm mươi tư nghìn", "954.000 Nine hundred fifty-four thousand"],
            [" bốn trăm mười chín nghìn", "419.000 Four hundred nineteen thousand"],
            [" bốn trăm linh một nghìn", "401.000 Four hundred one thousand"],
            [" bốn trăm nghìn", "400.000 Four hundred thousand"],
            [" sáu trăm mười bốn nghìn", "614.000 Six hundred fourteen thousand"],
            
            // Existing High Numbers & Currency (used as reference)
            [" một nghìn", "1.000 One thousand"],
            ["mười nghìn", "10.000  Ten thousand"],
            [" một trăm nghìn", "100.000 One hundred thousand"],
            [" một trăm năm mươi nghìn", "150.000 One hundred fifty thousand"],
            [" một triệu", "1.000.000 One million"],
            ["năm triệu", "5.000.000  Five million"],
            [" một triệu hai trăm nghìn", "1.200.000 One million two hundred thousand"],
            // Core numbers
            ["một", "One"],
            ["mười", "Ten"],
            ["một trăm", "One hundred"],
        ];

        // Conversations separated into distinct blocks
        const conversationTravel = [
            // Conversation 1: Travel and Price Confirmation (All words)
            { speaker: "Bạn", vn: "Xin chào! Cho tôi đi đến **Dinh Độc Lập**.", en: "Hello! Please take me to the **Reunification Palace**."},
            { speaker: "Tài xế", vn: "Giá là **một trăm năm mươi nghìn** VND. Anh đồng ý không?", en: "The price is **150.000** VND. Do you agree?" },
            { speaker: "Bạn", vn: "**Đúng rồi!** **cảm ơn rất nhiều**!", en: "**That's right!** **Thank you very much**!" },
            { speaker: "Tài xế", vn: "**Không có gì**! Xin mời!", en: "**You're welcome**! Please come in!" },
        ];

        const conversationFoodOrder1 = [
            // Conversation 2: Ordering Food and Drink (All words)
            { speaker: "Bạn", vn: "Cho tôi một cái **Bánh xèo** và một ly **cà phê sữa đá**.", en: "Give me one **savory pancake** and one **iced milk coffee**."},
            { speaker: "Người bán", vn: "Bạn có muốn gọi thêm **Bún bò** không?", en: "Would you like to order more **spicy beef noodle soup**?" },
            { speaker: "Bạn", vn: "Không, **cảm ơn**. **Làm ơn tính tiền**.", en: "No, **thank you**. **Can I have the bill, please**." },
            { speaker: "Người bán", vn: "Tổng cộng **tám mươi tám nghìn** VND. **chờ chút** tôi mang ra.", en: "Total **88.000** VND. **Wait a moment** I will bring it out." },
        ];

        const conversationFoodOrder2 = [
            // Conversation 3: New Food Ordering Example with All Words (Cơm tấm)
            { speaker: "Bạn", vn: "Cho tôi một phần **Cơm tấm** và một chai **Nước suối**.", en: "Give me one portion of **Broken Rice** and one bottle of **Bottled Water**."},
            { speaker: "Người bán", vn: "Tổng cộng **một trăm hai mươi lăm nghìn** VND. Của bạn đây.", en: "Total **125.000** VND. Here you go." },
            { speaker: "Bạn", vn: "Tôi gửi tiền. **cảm ơn rất nhiều**.", en: "Here is the money. **Thank you very much**." },
            { speaker: "Người bán", vn: "**Không có gì**.", en: "**You're welcome**." },
        ];


        // --- Helper Function to Render Items (Unchanged) ---

        function createItemElement(vnWord, enTranslation, index, isConversation = false, speaker = null) {
            const container = document.createElement('div');
            container.className = isConversation ? 'flex flex-col sm:flex-row sm:items-center p-3 rounded-lg border border-gray-100' : 'flex flex-wrap items-center justify-between p-2 hover:bg-blue-50 rounded-lg transition';

            const vnTextElement = document.createElement('span');
            // Adjusting max-width for better mobile wrap
            vnTextElement.className = isConversation ? 'text-lg font-medium pr-4 max-w-full sm:max-w-[60%]' : 'text-lg font-semibold text-gray-700';
            
            let displayVn = vnWord;
            if (speaker) {
                // For conversation, show speaker
                displayVn = `<span class="font-bold text-blue-600">${speaker}:</span> ${vnWord}`;
            }

            // Sanitizing: only text is rendered, not HTML, for safety.
            // Using innerHTML here for conversation speaker formatting only, content is controlled.
            vnTextElement.innerHTML = displayVn; 

            const translationElement = document.createElement('span');
            translationElement.className = 'translation text-base text-gray-500';
            translationElement.textContent = enTranslation;
            translationElement.id = `translation-${index}`;

            const button = document.createElement('button');
            button.className = 'show-btn px-3 py-1 bg-blue-500 text-white text-sm font-medium rounded-full hover:bg-blue-600 transition duration-150 ease-in-out whitespace-nowrap';
            button.textContent = 'Show Translation';
            
            button.onclick = function() {
                // Get the translation element by ID
                const target = document.getElementById(`translation-${index}`);
                if (target.style.display === 'none' || target.style.display === '') {
                    target.style.display = 'inline';
                    this.textContent = 'Hide Translation';
                } else {
                    target.style.display = 'none';
                    this.textContent = 'Show Translation';
                }
            };

            if (isConversation) {
                container.classList.add(speaker === 'Bạn' ? 'bg-indigo-50' : 'bg-gray-100');
                
                // Text wrapper containing VN text and hidden EN text
                const textWrapper = document.createElement('div');
                textWrapper.className = 'flex-1 flex flex-wrap items-center mb-2 sm:mb-0';
                textWrapper.appendChild(vnTextElement);
                textWrapper.appendChild(translationElement);

                // Control group for the button, aligning to the right on desktop
                const buttonContainer = document.createElement('div');
                buttonContainer.className = 'w-full sm:w-auto sm:ml-4';
                buttonContainer.appendChild(button);

                container.appendChild(textWrapper);
                container.appendChild(buttonContainer);
                
            } else {
                container.appendChild(vnTextElement);

                const controlGroup = document.createElement('div');
                controlGroup.className = 'flex items-center space-x-3 mt-2 sm:mt-0';
                controlGroup.appendChild(button);
                controlGroup.appendChild(translationElement);
                
                container.appendChild(controlGroup);
            }

            return container;
        }


        // --- Rendering Logic ---

        function renderData() {
            const vocabList = document.getElementById('vocabulary-list');
            const numbersList = document.getElementById('numbers-list');
            
            // Conversation containers
            const travelList = document.getElementById('conversation-travel-list');
            const food1List = document.getElementById('conversation-food-1-list');
            const food2List = document.getElementById('conversation-food-2-list');
            
            // Clear existing lists before rendering new data
            vocabList.innerHTML = '';
            numbersList.innerHTML = '';
            travelList.innerHTML = '';
            food1List.innerHTML = '';
            food2List.innerHTML = '';


            // 1. Render Vocabulary
            vocabularyData.forEach(([vn, en], index) => {
                vocabList.appendChild(createItemElement(vn, en, `vocab-${index}`));
            });

            // 2. Render Numbers
            numbersData.forEach(([vn, en], index) => {
                const numberItem = document.createElement('div');
                numberItem.className = 'flex flex-col space-y-1 p-2 rounded-lg hover:bg-yellow-50 border border-yellow-100';
                
                const vnSpan = document.createElement('span');
                vnSpan.className = 'text-base font-bold text-yellow-700';
                vnSpan.textContent = vn;
                numberItem.appendChild(vnSpan);

                const enSpan = document.createElement('span');
                enSpan.className = 'translation text-sm text-gray-600';
                enSpan.textContent = en;
                enSpan.id = `number-trans-${index}`;
                numberItem.appendChild(enSpan);

                const button = document.createElement('button');
                button.className = 'show-btn mt-1 w-full text-center px-2 py-1 bg-yellow-500 text-white text-xs font-medium rounded-full hover:bg-yellow-600 transition duration-150 ease-in-out';
                button.textContent = 'Show Translation';
                
                button.onclick = function() {
                    const target = document.getElementById(`number-trans-${index}`);
                    if (target.style.display === 'none' || target.style.display === '') {
                        target.style.display = 'inline';
                        this.textContent = 'Hide Translation';
                    } else {
                        target.style.display = 'none';
                        this.textContent = 'Show Translation';
                    }
                };

                numberItem.appendChild(button);
                numbersList.appendChild(numberItem);
            });

            // 3. Render Conversations in separate blocks
            conversationTravel.forEach((line, index) => {
                travelList.appendChild(createItemElement(line.vn, line.en, `conv-travel-${index}`, true, line.speaker));
            });
            conversationFoodOrder1.forEach((line, index) => {
                food1List.appendChild(createItemElement(line.vn, line.en, `conv-food1-${index}`, true, line.speaker));
            });
            conversationFoodOrder2.forEach((line, index) => {
                food2List.appendChild(createItemElement(line.vn, line.en, `conv-food2-${index}`, true, line.speaker));
            });
        }

        // Run the rendering when the window loads
        window.onload = renderData;

    </script>
</body>
</html>
